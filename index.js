import{A as L,a as g,i as p}from"./assets/vendor-CJkSuskx.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();new L(".accordion-container",{duration:300,showMultiple:!1});const S="https://furniture-store-v2.b.goit.study/api",h={FURNITURES_LIST:"/furnitures",FURNITURE_ITEM:"/furnitures/",CATEGORIES_LIST:"/categories",USERS_ORDER:"/orders",FEEDBACKS:"/feedbacks"};g.defaults.baseURL=S;async function M(e){try{return(await g.post(h.USERS_ORDER,e)).data}catch(n){throw console.error("Failed to post order.",n),new Error("Order submission failed.")}}const i={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),body:document.querySelector("body"),form:document.querySelector(".modal-form")};i.openModalBtn.addEventListener("click",b);i.closeModalBtn.addEventListener("click",b);i.modal.addEventListener("click",R);window.addEventListener("keydown",I);i.form.addEventListener("submit",O);function b(){i.modal.classList.toggle("is-open"),i.body.classList.toggle("modal-open")}function u(){i.modal.classList.remove("is-open"),i.body.classList.remove("modal-open")}function R(e){e.target===i.modal&&u()}function I(e){e.key==="Escape"&&i.modal.classList.contains("is-open")&&u()}function O(e){e.preventDefault();const n=e.currentTarget,{name:r,phone:l,comment:t}=n.elements,s=t.value;v(r),v(l);let c=!0;const m=r.value.trim();m.length<2&&(y(r,"Будь ласка, введіть правильно ім'я"),c=!1);const f=l.value.trim().replace(/\s+/g,"");/^(\+?38)?0\d{9}$/.test(f)||(y(l,"Невірний формат телефону"),c=!1),c&&M({name:m,phone:f,modelId:"",color:"",comment:s}).then(a=>{console.log(a),p.success({title:"Вітаю!",message:"Ваше замовлення оформлено успішно!",position:"topRight"}),n.reset(),u()}).catch(a=>{console.error("Failed to post order.",a.message),p.error({title:"Помилка",message:`${a.message}`,position:"topRight"})})}function y(e,n){if(e.classList.add("invalid"),!e.nextElementSibling||!e.nextElementSibling.classList.contains("error-text")){const r=document.createElement("p");r.className="error-text",r.textContent=n,e.insertAdjacentElement("afterend",r)}}function v(e){e.classList.remove("invalid"),e.nextElementSibling&&e.nextElementSibling.classList.contains("error-text")&&e.nextElementSibling.remove()}const o={openBtn:document.querySelector("#menu-open-btn"),closeBtn:document.querySelector("#menu-close-btn"),mobileMenu:document.querySelector("#mobile-menu-container"),mobaleNavList:document.querySelector("#mobile-nav"),navigation:document.querySelector(".navigation"),overlay:document.querySelector("#menu-overlay"),btn:document.querySelector(".btn-header")};o.openBtn.addEventListener("click",q);o.closeBtn.addEventListener("click",d);document.addEventListener("keydown",w);document.addEventListener("click",x);o.btn.addEventListener("click",B);function q(){o.mobileMenu.classList.add("is-open"),o.navigation.classList.add("menu-active"),o.overlay.classList.add("is-visible"),document.body.style.overflow="hidden",o.openBtn.setAttribute("aria-expanded","true")}function d(){o.mobileMenu.classList.remove("is-open"),o.navigation.classList.remove("menu-active"),o.overlay.classList.remove("is-visible"),document.body.style.overflow="",o.openBtn.setAttribute("aria-expanded","false")}o.mobaleNavList.querySelectorAll("a").forEach(e=>{e.addEventListener("click",d)});function E(){o.mobileMenu.classList.contains("is-open")&&d()}function w(e){e.key==="Escape"&&E()}function x(e){const n=o.mobileMenu.contains(e.target),r=o.openBtn.contains(e.target);!n&&!r&&E()}function B(){document.querySelector("#furniture").scrollIntoView({behavior:"smooth"}),d()}
//# sourceMappingURL=index.js.map
